---
- name: Get key 
  apt_key: keyserver=keyserver.ubuntu.com id=E084DAB9 state=present
  when: ansible_os_family == 'Debian'
  
- name: Get repository
  apt_repository: repo='ppa:marutter/rdev'
  when: ansible_os_family == 'Debian'
  
- name: Update
  apt: update_cache=yes
  when: ansible_os_family == 'Debian'
  
- name: Upgrade
  apt: upgrade=dist
  when: ansible_os_family == 'Debian'
  
- name: Install R on Debian
  apt: name=r-base state=latest update_cache=yes
  when: ansible_os_family == 'Debian'
  
- name: Install R on REL (I)
  action: shell rpm -Uvh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
  when: ansible_os_family == 'RedHat'
  ignore_errors: true
  
- name: Install R on REL (II)
  action: shell sudo yum install R -y 
  when: ansible_os_family == 'RedHat'
  ignore_errors: true
  
- include: rcommander.yml
  when: "{{ install_rcommander }}"
  
- include: rstudio.yml
  when: "{{ install_rstudio }}"


